{
  "id": "truecover-child-survey",
  "resourceType": "Questionnaire",
  "title": "Child Survey",
  "version": "0.0.1",
  "status": "active",
  "publisher": "OpenSRP",
  "subjectType": [
    "Patient"
  ],
  "contact": [
    {
      "name": "http://www.opensrp.io"
    }
  ],
  "extension": [
    {
      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-targetStructureMap",
      "valueCanonical": "https://fhir.labs.smartregister.org/fhir/StructureMap/truecover-child-survey-sm"
    }
  ],
  "item": [
    {
      "linkId": "opensrp-id",
      "type": "integer",
      "readOnly": true,
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
          "valueBoolean": true
        }
      ]
    },
    {
      "linkId": "survey-date",
      "type": "date",
      "text": "Date of survey",
      "required": true
    },
    {
      "linkId": "first-name",
      "type": "string",
      "text": "First Name",
      "required": true,
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/regex",
          "valueString": "^[a-zA-Z\\- ]*$"
        }
      ]
    },
    {
      "linkId": "middle-name",
      "type": "string",
      "text": "Middle Name",
      "required": false,
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/regex",
          "valueString": "^[a-zA-Z\\- ]*$"
        }
      ]
    },
    {
      "linkId": "last-name",
      "type": "string",
      "text": "Last Name",
      "required": true,
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/regex",
          "valueString": "^[a-zA-Z\\- ]*$"
        }
      ]
    },
    {
      "linkId": "gender",
      "type": "choice",
      "text": "Gender",
      "required": false,
      "answerOption": [
        {
          "valueCoding": {
            "id": "71c8e82b-2721-47ed-eb55-cfc74ad786ba",
            "code": "male",
            "system": "urn:uuid:4f440ef4-0cda-4a71-888f-9e2f348a1c5e",
            "display": "Male"
          }
        },
        {
          "valueCoding": {
            "id": "79d705d4-4db4-46eb-85ee-4c18d1259afa",
            "code": "female",
            "system": "urn:uuid:4f440ef4-0cda-4a71-888f-9e2f348a1c5e",
            "display": "Female"
          }
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/ValueSet/questionnaire-item-control",
                "code": "radio-button"
              }
            ]
          }
        }
      ]
    },
    {
      "linkId": "date-of-birth",
      "type": "date",
      "text": "Date of Birth",
      "required": false
    },
    {
      "linkId": "was-bcg-given",
      "type": "choice",
      "text": "Was BCG given",
      "required": false,
      "answerOption": [
        {
          "valueCoding": {
            "id": "97d200a0-f7f2-48c1-a0ac-67433c7cf002",
            "code": "yes",
            "system": "urn:uuid:6c6a9cce-1351-4a9e-d215-c483def08923",
            "display": "Yes"
          }
        },
        {
          "valueCoding": {
            "id": "b279a560-4f10-41d5-8be1-e54824a83d4e",
            "code": "no",
            "system": "urn:uuid:6c6a9cce-1351-4a9e-d215-c483def08923",
            "display": "No"
          }
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/ValueSet/questionnaire-item-control",
                "code": "radio-button"
              }
            ]
          }
        }
      ]
    },
    {
      "linkId": "bcg-date",
      "type": "date",
      "text": "Date BCG was given",
      "required": false,
      "enableWhen": [
        {
          "question": "was-bcg-given",
          "operator": "=",
          "answerCoding": {
            "system": "urn:uuid:6c6a9cce-1351-4a9e-d215-c483def08923",
            "code": "yes"
          }
        }
      ]
    },
    {
      "linkId": "was-dpt-1-given",
      "type": "choice",
      "text": "Was DPT 1 given?",
      "required": false,
      "answerOption": [
        {
          "valueCoding": {
            "id": "a6646ee0-9322-46aa-bc42-c27cf3ddb57e",
            "code": "yes",
            "system": "urn:uuid:6c68cef1-71da-4007-ae00-a3d63481cb7f",
            "display": "Yes"
          }
        },
        {
          "valueCoding": {
            "id": "d9dc36a8-b7f6-494d-b63a-086589fdb126",
            "code": "no",
            "system": "urn:uuid:6c68cef1-71da-4007-ae00-a3d63481cb7f",
            "display": "No"
          }
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/ValueSet/questionnaire-item-control",
                "code": "radio-button"
              }
            ]
          }
        }
      ]
    },
    {
      "linkId": "dpt-1-date",
      "type": "date",
      "text": "Date DPT 1 was given",
      "required": false,
      "enableWhen": [
        {
          "question": "was-dpt-1-given",
          "operator": "=",
          "answerCoding": {
            "system": "urn:uuid:6c68cef1-71da-4007-ae00-a3d63481cb7f",
            "code": "yes"
          }
        }
      ]
    },
    {
      "linkId": "was-dpt-2-given",
      "type": "choice",
      "text": "Was DPT 2 given?",
      "required": false,
      "answerOption": [
        {
          "valueCoding": {
            "id": "3001146e-65c6-49f3-bb5a-418f191bcd6c",
            "code": "yes",
            "system": "urn:uuid:7cb51ce4-655f-4ca9-9396-41be230a09f3",
            "display": "Yes"
          }
        },
        {
          "valueCoding": {
            "id": "12ee370f-55dc-4251-8fda-2b0124f698db",
            "code": "no",
            "system": "urn:uuid:7cb51ce4-655f-4ca9-9396-41be230a09f3",
            "display": "No"
          }
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/ValueSet/questionnaire-item-control",
                "code": "radio-button"
              }
            ]
          }
        }
      ]
    },
    {
      "linkId": "dpt-2-date",
      "type": "date",
      "text": "Date DPT 2 was given",
      "required": false,
      "enableWhen": [
        {
          "question": "was-dpt-2-given",
          "operator": "=",
          "answerCoding": {
            "system": "urn:uuid:7cb51ce4-655f-4ca9-9396-41be230a09f3",
            "code": "yes"
          }
        }
      ]
    },
    {
      "linkId": "was-dpt-3-given",
      "type": "choice",
      "text": "Was DPT 3 given?",
      "required": false,
      "answerOption": [
        {
          "valueCoding": {
            "id": "c1777680-9958-424a-9d23-2dfaeec5bb09",
            "code": "yes",
            "system": "urn:uuid:ed8e60f2-8a4c-4146-8552-54da231a6c4b",
            "display": "Yes"
          }
        },
        {
          "valueCoding": {
            "id": "e6de239c-d822-499e-87d4-ebc533f56322",
            "code": "no",
            "system": "urn:uuid:ed8e60f2-8a4c-4146-8552-54da231a6c4b",
            "display": "No"
          }
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/ValueSet/questionnaire-item-control",
                "code": "radio-button"
              }
            ]
          }
        }
      ]
    },
    {
      "linkId": "dpt-3-date",
      "type": "date",
      "text": "Date DPT 3 was given",
      "required": false,
      "enableWhen": [
        {
          "question": "was-dpt-3-given",
          "operator": "=",
          "answerCoding": {
            "system": "urn:uuid:ed8e60f2-8a4c-4146-8552-54da231a6c4b",
            "code": "yes"
          }
        }
      ]
    },
    {
      "linkId": "was-measles-1-vaccine-given",
      "type": "choice",
      "text": "Was Measles 1 vaccine given?",
      "required": false,
      "answerOption": [
        {
          "valueCoding": {
            "id": "e26f8853-c8ac-42ad-e59a-1d61db36c865",
            "code": "yes",
            "system": "urn:uuid:f7ae0ca7-e33a-4b7c-a45f-9b589ab11adc",
            "display": "Yes"
          }
        },
        {
          "valueCoding": {
            "id": "df7d834b-249f-4cc2-c196-39d243e316b7",
            "code": "no",
            "system": "urn:uuid:f7ae0ca7-e33a-4b7c-a45f-9b589ab11adc",
            "display": "No"
          }
        }
      ]
    },
    {
      "linkId": "measles-1-vaccine-date",
      "type": "date",
      "text": "Date Measles 1 vaccine was given",
      "required": false,
      "enableWhen": [
        {
          "question": "was-measles-1-vaccine-given",
          "operator": "=",
          "answerCoding": {
            "system": "urn:uuid:f7ae0ca7-e33a-4b7c-a45f-9b589ab11adc",
            "code": "yes"
          }
        }
      ]
    },
    {
      "linkId": "was-measles-2-vaccine-given",
      "type": "choice",
      "text": "Was Measles 2 vaccine given?",
      "required": false,
      "answerOption": [
        {
          "valueCoding": {
            "id": "44d4d119-6cf7-4dd5-bb48-9fafe5a72b88",
            "code": "yes",
            "system": "urn:uuid:9a333b94-2cf2-418b-98a1-8dc82052dad5",
            "display": "Yes"
          }
        },
        {
          "valueCoding": {
            "id": "57bf3c64-7394-4613-be9e-a40afc22fdbb",
            "code": "no",
            "system": "urn:uuid:9a333b94-2cf2-418b-98a1-8dc82052dad5",
            "display": "No"
          }
        }
      ]
    },
    {
      "linkId": "measles-2-vaccine-date",
      "type": "date",
      "text": "Date Measles 2 vaccine was given",
      "required": false,
      "enableWhen": [
        {
          "question": "was-measles-2-vaccine-given",
          "operator": "=",
          "answerCoding": {
            "system": "urn:uuid:9a333b94-2cf2-418b-98a1-8dc82052dad5",
            "code": "yes"
          }
        }
      ]
    },
    {
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/mimeType",
          "valueCode": "image/*"
        }
      ],
      "linkId": "vaccine-card-photo",
      "text": "Take a picture of the vaccination card",
      "type": "attachment",
      "required": false,
      "item": [
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-displayCategory",
              "valueCodeableConcept": {
                "coding": [
                  {
                    "system": "http://hl7.org/fhir/questionnaire-display-category",
                    "code": "instructions"
                  }
                ]
              }
            }
          ],
          "linkId": "1-media-types-supported",
          "text": "Media types supported: .jpg, .png, .mp3, .mp4, .pdf",
          "type": "display"
        }
      ]
    },
    {
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
          "valueBoolean": true
        }
      ],
      "linkId": "related-entity-location",
      "text": "Operational Are ID",
      "type": "string",
      "readOnly": true,
      "required": false
    }
  ]
}